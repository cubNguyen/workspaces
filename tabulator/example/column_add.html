<!DOCTYPE html>
<html><head>
<link href="https://unpkg.com/tabulator-tables@5.5/dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.3/dist/js/tabulator.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
</head><body><div id="origin-table"></div>
<br><hr><br>
</head><body><div id="pivot-table"></div>

<script>
  var colData = [
    {col0:0, col1:1, col2:2, col3:3}
  ];
 var rowData = [
    {id:1, name:"Billy Bob", age:"12", gender:"male", height:1, col:"red", dob:"", cheese:1},
    {id:2, name:"Mary May", age:"1", gender:"female", height:2, col:"blue", dob:"14/05/1982", cheese:true},
    {id:3, name:"Christine Lobowski", age:"42", height:0, col:"green", dob:"22/05/1982", cheese:"true"},
];

var otable = new Tabulator("#origin-table", {
    height:"311px",
    columnDefaults:{
      resizable:true,
    },
    data:rowData,
    autoColumns:true,
});

var ptable = new Tabulator("#pivot-table", {
    height:"311px",
    columnDefaults:{
      resizable:true,
    },
    data:colData,
    autoColumns:true,
});

ptable.on("renderStarted", () => {
    $.each(rowData, function(i, item) {
        console.log(i);
        ptable.updateColumnDefinition("col"+(i+1), {title:item.name});
        ptable.updateOrAddData([{id:1, ["col".concat((i+1))]:item.age}]);
        ptable.updateOrAddData([{id:2, ["col".concat((i+1))]:item.gender}]);
        ptable.updateOrAddData([{id:3, ["col".concat((i+1))]:item.col}]);
    });
  });
  
</script>
</body></html>
